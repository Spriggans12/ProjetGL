<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
		<title>Classement</title>
		<link rel="stylesheet" type="text/css" href="design2.css">
		<script type="text/javascript">
		<!--
			var son;
		
			function initList()
			{
				var container = document.getElementById("container");
				var selectVille = document.getElementById("b2");
				
				var listeVille = new Array("Tous","PPS", "UPCM", "Orleans"); // get by server
				
				selectVille.options.length = 0;
				for (index in listeVille)
				{
					selectVille.options[selectVille.options.length] = new Option(listeVille[index], listeVille[index], false, false);
						
				}
				selectVille.options[0].defaultSelected = true;
				
				container.innerHTML = "";
				var list = getArray("Tous");//prendre les donn¨¦s du serveur
				for(var i = 0; i<list.length; i++)
				{
					var t = new Object();
					t.text = list[i];
					t.tag = i.toString();
					container.appendChild(createItem(t));
				}
			}
			
			function onSelect(name)
			{
				switch (name)
				{
					case "b1" : window.location.href="http://www.baidu.com";break;
					case "b2" : window.location.href="http://www.baidu.com";break;
					case "b3" : window.location.href="http://www.baidu.com";break;
					case "b4" : window.location.href="http://www.baidu.com";break;
				}
			}
			
		
			
			function changerVille()
			{
				var container = document.getElementById("container");
				var selectVille = document.getElementById("b2");
				
				var ville = selectVille.options[selectVille.selectedIndex].text;			
				while (container.hasChildNodes()) {
					container.removeChild(container.lastChild);
				}
				var list = getArray(ville);//prendre les donn¨¦s du serveur
			
				for(var i = 0; i<list.length; i++)
				{
					var t = new Object();
					t.text = list[i];
					t.tag = i.toString();
					container.appendChild(createItem(t));
				}
			}
			
			function createItem(ob)
			{
				var item = document.createElement("div");
				item.innerHTML = ob.text;
				item.style.width = "100%";
				item.id = ob.tag;	
				item.addEventListener("click", function(){
					son = ob.text;
					window.open("infopp.html");
				});
				return item;
			}
			
			function getArray(s)
			{
				var listeVille = new Array("Tous","PPS", "UPCM", "Orleans");//get from server
				switch (s)
				{
					case "Tous" : return new Array("Chaoli", "Thomas", "Vincent","Arthur");break;
					default :  return new Array("Zijian", "Chaoli","Vincent","Arthur");break;
				}
			}
		-->
		</script>
	</head>
	<body onLoad = "initList()">
		<img id = "mainLogo" src="images/bg.jpg"></img>
		<div id = "underLogo" style="background:url('images/underlogo.jpg') no-repeat; margin-left: 0; margin-top: 0">
			<div src = "" class = "underLogoTitle"></div>
			<div class = "underLogoText">Orsay</div>
		</div>
		<div class = "listContainer" id = "container" > 	
		</div>
		<div style = "text-align : center;">
			<button id = "b1" onClick = "initList()">Classement Generale</button>
			<select id = "b2" onChange = "changerVille()"></select>
		</div>
	</body>
</html>